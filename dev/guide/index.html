<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · VortexLattice.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">VortexLattice.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../library/">Library</a></li><li><a class="tocitem" href="../theory/">Theory</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/VLM.jl/blob/master/docs/src/guide.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Guide"><a class="docs-heading-anchor" href="#Guide">Guide</a><a id="Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Guide" title="Permalink"></a></h1><p>This guide demonstrates the basic capabilities of using VortexLattice.  First, we need to load the package.</p><pre><code class="language-julia">using VortexLattice</code></pre><p>Then we need to create our geometry.  While VortexLattice can handle multiple lifting surfaces, for this guide we will be analyzing a planar wing with the following geometric properties.</p><pre><code class="language-julia">xle = [0.0, 0.4] # leading edge x-position
yle = [0.0, 7.5] # leading edge y-position
zle = [0.0, 0.0] # leading edge z-position
chord = [2.2, 1.8] # chord length
theta = [2.0*pi/180, 2.0*pi/180] # twist (in radians)
phi = [0.0, 0.0] # section rotation about the x-axis</code></pre><p>Note that we are only defining half the wing since the wing is symmetric about the y-axis.</p><p>We also need to define the number of panels and the discretization scheme in the spanwise and chordwise directions.  There are currently three discretization scheme options: <code>Uniform()</code>, <code>Sine()</code>, and <code>Cosine()</code>.  To maximize the accuracy of our analysis we would like to use cosine spacing in the spanwise direction.  To do this, we need to use sine spacing on the right half of the wing (since once reflected across the y-z plane, sine spacing become cosine spacing).  </p><pre><code class="language-julia">ns = 12 # number of spanwise panels
nc = 6  # number of chordwise panels
spacing_s = Sine() # spanwise discretization scheme
spacing_c = Uniform() # chordwise discretization scheme</code></pre><p>Now that we have defined our geometry and discretization scheme we can generate the panels using <code>wing_to_horseshoe_vortices</code> or <code>wing_to_vortex_rings</code>.  Using vortex rings allows us to model camber and twist in the panel geometry (rather than just in the boundary conditions), however, since our sections have no camber and only a small amount of twist there is essentially no difference between the results using the two vortex panel types.  </p><pre><code class="language-julia">panels = wing_to_horseshoe_vortices(xle, yle, zle, chord, theta, phi, ns, nc;
    spacing_s=spacing_s, spacing_c=spacing_c, mirror=true)</code></pre><p>Note that we used the keyword argument <code>mirror</code> to create a copy of our geometry, reflected across the X-Z plane.</p><p>Now that we have generated our geometry we need to define our reference parameters and freestream properties. We use the following reference parameters</p><pre><code class="language-julia">Sref = 30.0 # reference area
cref = 2.0  # reference chord
bref = 15.0 # reference span
rref = [0.50, 0.0, 0.0] # reference location for rotations/moments (typically the c.g.)
ref = Reference(Sref, cref, bref, rref)</code></pre><p>We also use the following flow conditions</p><pre><code class="language-julia">alpha = 1.0*pi/180 # angle of attack
beta = 0.0 # sideslip angle
Omega = [0.0, 0.0, 0.0] # rotational velocity around the reference location
fs = Freestream(alpha, beta, Omega)</code></pre><p>Since the flow conditions are symmetric, we could have modeled only one half of our wing and declared that the problem was symmetric.  This, however, would give incorrect results the lateral stability derivatives so we have mirrored our geometry across the Y-Z plane instead of using the problem symmetry.</p><pre><code class="language-julia">symmetric = false</code></pre><p>Now that we have all the components necessary for our analysis we can perform the core computation of the vortex lattice method: calculate panel circulation.</p><pre><code class="language-julia">AIC = influence_coefficients(panels, symmetric)
b = normal_velocity(panels, ref, fs)
Γ = circulation(AIC, b)</code></pre><p>We can then use the circulation distribution combined with the Kutta-Joukowski theory to find the forces and moments on the aircraft.</p><pre><code class="language-julia">CF, CM, panelprops = near_field_forces(panels, ref, fs, symmetric, Γ)</code></pre><p>By default <code>CF</code> and <code>CM</code> are returned in the body frame, but we can easily return them in the wind frame using the <code>frame</code> keyword argument.</p><pre><code class="language-julia">CF, CM, panelprops = near_field_forces(panels, ref, fs, symmetric, Γ; frame=Wind())</code></pre><p>Numerical noise often corrupts drag estimates from near-field analyses (such as the previous analysis), therefore, it is often more accurate to compute drag in the farfield on the Trefftz plane.</p><pre><code class="language-julia">CDiff = far_field_drag(panels, ref, fs, symmetric, Γ)</code></pre><p>We can also compute body or stability derivatives for the aircraft.</p><pre><code class="language-julia">dCFb, dCMb = body_derivatives(panels, ref, fs, symmetric, AIC)
dCFs, dCMs = stability_derivatives(panels, ref, fs, symmetric, AIC)</code></pre><p>We can also visualize our geometry using ParaView.</p><pre><code class="language-julia">write_vtk(&quot;simplewing&quot;, panels)</code></pre><p><img src="../simple-guide.png" alt/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 13 November 2020 19:59">Friday 13 November 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
